{% extends 'base.html' %}
{% block content %}
<h1>Histórico de Lançamentos</h1>
<table class="table">
    <thead><tr><th>Chave NF-e</th><th>Data Lançamento</th><th>Usuário</th><th>Valor</th><th>Status</th></tr></thead>
    <tbody>
        {% for nf in nf_list %}
        <tr><td>{{ nf.chave_nfe }}</td><td>{{ nf.data_lancamento }}</td><td>{{ nf.user.username }}</td><td>R$ {{ nf.valor_total }}</td><td>{{ nf.get_status_display }}</td></tr>
        {% empty %}
        <tr><td colspan="5">Nenhum lançamento.</td></tr>
        {% endfor %}
    </tbody>
</table>
{% if is_paginated %}
<nav aria-label="Paginação">
    <ul class="pagination">
        {% if page_obj.has_previous %}
        <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">Anterior</a></li>
        {% endif %}
        {% for num in page_obj.paginator.page_range %}
        <li class="page-item {% if page_obj.number == num %}active{% endif %}"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
        {% endfor %}
        {% if page_obj.has_next %}
        <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Próximo</a></li>
        {% endif %}
    </ul>
</nav>
{% endif %}
{% endblock %}